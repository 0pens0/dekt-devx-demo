#==================================================================
# TAP Profiles
#   accepted values: full, iterate, build, run, view
#==================================================================
profile: view
#==================================================================
# TAP GUI (Backstage)
#==================================================================
tap_gui:
  service_type: ClusterIP
  ingressEnabled: "true"
  ingressDomain: "sys.{YOUR_DOMAIN}"
  app_config:
    app:
      baseUrl: http://tap-gui.sys.{YOUR_DOMAIN}
    catalog:
      locations:
        - type: url
          target: https://github.com/tanzu-demo/tap-gui-catalogs/blob/main/blank/catalog-info.yaml
        - type: url
          target: https://github.com/dektlong/dekt-devx-demo/blob/main/backstage/catalog-info.yaml
    backend:
      baseUrl: http://tap-gui.sys.{YOUR_DOMAIN}
      cors:
        origin: http://tap-gui.sys.{YOUR_DOMAIN}
    #============================
    # Multi cluster workload viewer
    #============================
    kubernetes:
      serviceLocatorMethod:
        type: 'multiTenant'
      clusterLocatorMethods:
        - type: 'config'
          clusters:
            - url: {UPDATED_IN_RUNTIME}
              name: {UPDATE_FROM_DEMO_VALUES}
              authProvider: serviceAccount
              serviceAccountToken: {UPDATED_IN_RUNTIME}
              skipTLSVerify: true
            - url: {UPDATED_IN_RUNTIME}
              name: {UPDATE_FROM_DEMO_VALUES}
              authProvider: serviceAccount
              serviceAccountToken: {UPDATED_IN_RUNTIME}
              skipTLSVerify: true
            - url: {UPDATED_IN_RUNTIME}
              name: {UPDATE_FROM_DEMO_VALUES}
              authProvider: serviceAccount
              serviceAccountToken: {UPDATED_IN_RUNTIME}
              skipTLSVerify: true
appliveview:
  ingressEnabled: "true"
  ingressDomain: "sys.{YOUR_DOMAIN}"
#metadata_store:
#  ingress_enabled: "true"
#  ingress_domain: "sys.{YOUR_DOMAIN}"
contour:
  envoy:
    service:
      type: LoadBalancer
accelerator:
  server:
    service_type: "ClusterIP"
excluded_packages:
  #- learningcenter.tanzu.vmware.com
  #- workshops.learningcenter.tanzu.vmware.com
  - metadata-store.apps.tanzu.vmware.com #workaround
#- grype.scanning.apps.tanzu.vmware.com
learningcenter:
  ingressDomain: dekt-learn.sys.{YOUR_DOMAIN}
ceip_policy_disclosed: true
